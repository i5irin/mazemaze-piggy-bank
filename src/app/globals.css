:root {
  color-scheme: light dark;
  --brand-accent: #f6e58d;
  --brand-bg: #f5f5f2;
  --brand-surface: #ffffff;
  --brand-text: #626258;
  --brand-text-muted: #77776c;
  --brand-border: #e0e0d6;
  --brand-shadow-1: 0 10px 24px rgba(98, 98, 88, 0.12);
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-6: 24px;
  --radius-2: 10px;
  --radius-3: 14px;
  --app-bg: var(--brand-bg);
  --app-surface: var(--brand-surface);
  --app-border: var(--brand-border);
  --app-text: var(--brand-text);
  --app-subtle: var(--brand-text-muted);
  --app-accent: var(--brand-accent);
  --app-radius: var(--radius-3);
  --app-shadow: var(--brand-shadow-1);
}

[data-theme="dark"] {
  --brand-bg: #1e1e1b;
  --brand-surface: #2d2d2a;
  --brand-text: #f5f5f2;
  --brand-text-muted: #d4d4c8;
  --brand-border: #626258;
  --brand-shadow-1: 0 16px 30px rgba(0, 0, 0, 0.55);
  --app-bg: var(--brand-bg);
  --app-surface: var(--brand-surface);
  --app-border: var(--brand-border);
  --app-text: var(--brand-text);
  --app-subtle: var(--brand-text-muted);
  --app-accent: var(--brand-accent);
  --app-shadow: var(--brand-shadow-1);
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
  background: var(--app-bg);
  color: var(--app-text);
}

a {
  color: inherit;
  text-decoration: none;
}

.app-shell {
  display: grid;
  grid-template-rows: auto 1fr auto;
  min-height: 100vh;
  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--app-accent) 18%, transparent),
    transparent 45%
  );
}

[data-theme="dark"] .app-shell {
  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--app-accent) 10%, transparent),
    transparent 45%
  );
}

.app-header {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: var(--space-3);
  align-items: center;
  padding: var(--space-4) var(--space-4) var(--space-3);
  position: sticky;
  top: 0;
  z-index: 10;
  backdrop-filter: blur(12px);
  background: color-mix(in srgb, var(--app-surface) 82%, transparent);
  border-bottom: 1px solid var(--app-border);
}

.app-header-left,
.app-header-center,
.app-header-right {
  display: flex;
  align-items: center;
}

.app-header-center {
  justify-content: center;
}

.app-header-right {
  justify-content: flex-end;
  gap: var(--space-2);
}

.scope-switcher {
  display: grid;
  gap: 6px;
}

.scope-switcher-mobile {
  min-width: 150px;
}

.scope-switcher-desktop {
  display: none;
}

.scope-pivot {
  display: inline-flex;
  align-items: center;
  padding: 2px;
  border: 1px solid var(--app-border);
  border-radius: 999px;
  background: color-mix(in srgb, var(--app-surface) 92%, transparent);
  width: fit-content;
}

.scope-pivot-button {
  border: 0;
  background: transparent;
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 12px;
  font-weight: 600;
  color: var(--app-subtle);
  cursor: pointer;
}

.scope-pivot-button.is-active {
  background: var(--app-accent);
  color: #1a1a1a;
}

.scope-select {
  border: 1px solid var(--app-border);
  border-radius: 8px;
  background: color-mix(in srgb, var(--app-surface) 96%, transparent);
  color: var(--app-text);
  min-height: 30px;
  font-size: 12px;
  padding: 4px 8px;
  min-width: 150px;
}

.app-nav-scope {
  display: none;
}

.brand-link {
  display: flex;
  gap: 8px;
  align-items: center;
  justify-content: center;
  width: 100%;
}

.brand-logo {
  height: 28px;
  width: auto;
}

.brand-logo-dark {
  display: none;
}

[data-theme="dark"] .brand-logo-light {
  display: none;
}

[data-theme="dark"] .brand-logo-dark {
  display: block;
}

.app-main {
  padding: var(--space-4) var(--space-4) 72px;
  grid-row: 2;
}

.section-stack {
  display: grid;
  gap: var(--space-4);
}

.card-grid {
  display: grid;
  gap: var(--space-3);
}

.app-surface {
  background: var(--app-surface);
  border: 1px solid var(--app-border);
  border-radius: var(--app-radius);
  padding: var(--space-4);
  box-shadow: var(--app-shadow);
}

.app-muted {
  color: var(--app-subtle);
}

.app-actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: center;
}

.app-alert {
  margin-top: 12px;
  padding: 12px;
  border-radius: var(--radius-2);
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 92%, transparent);
}

.app-alert-error {
  border-color: color-mix(in srgb, #d13438 70%, var(--app-border));
  background: color-mix(in srgb, #d13438 12%, var(--app-surface));
}

.app-alert-warning {
  border-color: color-mix(in srgb, #f6c343 60%, var(--app-border));
  background: color-mix(in srgb, #f6c343 16%, var(--app-surface));
}

.app-code {
  margin-top: 12px;
  padding: 12px;
  border-radius: var(--radius-2);
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 92%, transparent);
  font-family:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  font-size: 12px;
  white-space: pre-wrap;
}

.settings-anchor {
  scroll-margin-top: 84px;
}

.settings-page-title {
  margin: 0;
}

.settings-row-grid {
  display: grid;
  gap: 10px;
}

.settings-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
  border: 1px solid var(--app-border);
  border-radius: var(--radius-2);
  padding: 10px 12px;
  background: color-mix(in srgb, var(--app-surface) 94%, transparent);
}

.settings-desktop-only {
  display: grid;
}

.settings-mobile-only {
  display: none;
}

.settings-mobile-list {
  display: grid;
  gap: var(--space-2);
}

.settings-mobile-item {
  width: 100%;
  text-align: left;
  border: 1px solid var(--app-border);
  border-left: 4px solid transparent;
  border-radius: var(--radius-2);
  padding: var(--space-3);
  background: color-mix(in srgb, var(--app-surface) 95%, transparent);
  display: grid;
  gap: 6px;
  cursor: pointer;
  font: inherit;
  color: inherit;
}

.settings-mobile-item:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--app-accent) 55%, transparent);
  outline-offset: 2px;
}

.settings-mobile-item-danger {
  border-left-color: color-mix(in srgb, #d13438 55%, var(--app-border));
  background: color-mix(in srgb, #d13438 8%, var(--app-surface));
}

.settings-mobile-item-title {
  font-weight: 700;
}

.settings-mobile-item-summary {
  color: var(--app-subtle);
  font-size: 13px;
}

.settings-subsection {
  display: grid;
  gap: var(--space-2);
}

.settings-subsection + .settings-subsection {
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--app-border);
}

.settings-field {
  display: grid;
  gap: 6px;
}

.settings-access-type {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.settings-chip {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 92%, transparent);
  font-size: 12px;
}

.settings-location {
  margin-top: 12px;
  display: grid;
  gap: 6px;
}

.settings-location-row {
  display: flex;
  gap: var(--space-2);
  align-items: center;
}

.settings-truncate {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.settings-status-line {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border: 1px solid var(--app-border);
  border-radius: var(--radius-2);
  background: color-mix(in srgb, var(--app-surface) 94%, transparent);
}

.settings-details {
  border: 1px solid var(--app-border);
  border-radius: var(--radius-2);
  padding: 12px;
  background: color-mix(in srgb, var(--app-surface) 95%, transparent);
}

.settings-details summary {
  cursor: pointer;
  font-weight: 600;
}

.danger-zone {
  border-color: color-mix(in srgb, #d13438 35%, var(--app-border));
  background: color-mix(in srgb, #d13438 7%, var(--app-surface));
}

.settings-modal-overlay {
  position: fixed;
  inset: 0;
  background: color-mix(in srgb, #000 42%, transparent);
  display: grid;
  place-items: center;
  z-index: 120;
  padding: 24px;
}

.settings-modal {
  width: min(460px, 100%);
  border-radius: var(--radius-3);
  border: 1px solid var(--app-border);
  background: var(--app-surface);
  box-shadow: var(--app-shadow);
  padding: 18px;
}

.settings-text-input {
  width: 100%;
  border: 1px solid var(--app-border);
  border-radius: var(--radius-2);
  padding: 10px 12px;
  font: inherit;
  color: inherit;
  background: color-mix(in srgb, var(--app-surface) 96%, transparent);
}

.settings-text-input:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--app-accent) 60%, transparent);
  outline-offset: 2px;
}

.settings-checkbox-row {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.settings-tooltip-target {
  display: inline-flex;
}

.settings-help-text {
  margin: 8px 0 0;
}

.settings-share-link-panel {
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid var(--app-border);
}

.settings-share-link-row {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  align-items: center;
}

.settings-share-link-input {
  flex: 1;
  min-width: 0;
}

.settings-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: flex-end;
  padding: var(--space-4);
  background: color-mix(in srgb, #000 22%, transparent);
  z-index: 80;
}

.settings-drawer {
  width: 100%;
  max-width: 520px;
  border-radius: var(--app-radius);
  border: 1px solid var(--app-border);
  background: var(--app-surface);
  box-shadow: var(--app-shadow);
  padding: var(--space-4);
  max-height: 100%;
  overflow-y: auto;
}

.settings-drawer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

@media (max-width: 719px) {
  .settings-desktop-only {
    display: none;
  }

  .settings-mobile-only {
    display: block;
  }

  .settings-overlay {
    padding: 0;
  }

  .settings-drawer {
    max-width: none;
    border-radius: 0;
    min-height: 100%;
  }
}

.app-nav {
  display: grid;
  grid-auto-flow: column;
  justify-content: space-around;
  align-items: center;
  padding: var(--space-3) var(--space-4);
  position: sticky;
  bottom: 0;
  background: color-mix(in srgb, var(--app-surface) 92%, transparent);
  border-top: 1px solid var(--app-border);
  grid-row: 3;
}

.app-nav-brand,
.app-nav-footer {
  display: none;
}

.app-nav-links {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: 1fr;
  justify-content: space-around;
  align-items: center;
  width: 100%;
}

.app-subnav {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.subnav-link {
  display: inline-flex;
  align-items: center;
  padding: 8px 14px;
  border-radius: 999px;
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 90%, transparent);
  color: var(--app-subtle);
  font-size: 13px;
}

.subnav-link-active {
  border-color: var(--app-accent);
  color: var(--app-accent);
  font-weight: 600;
}

.nav-link {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: var(--app-subtle);
  width: 100%;
}

.nav-link-active {
  color: var(--app-accent);
  font-weight: 600;
}

.nav-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
}

.nav-icon-desktop {
  display: none;
}

.focus-ring:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--app-accent) 60%, transparent);
  outline-offset: 3px;
  border-radius: 8px;
}

.cloud-status {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 8px;
  border-radius: 999px;
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 92%, transparent);
  color: var(--app-text);
  font-size: 12px;
  line-height: 1;
  white-space: nowrap;
}

.cloud-status-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: inherit;
  font-weight: 600;
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
}

.status-dot-green {
  background: #319b4f;
}

.status-dot-yellow {
  background: #c99613;
}

.status-dot-red {
  background: #c43b3b;
}

.status-label {
  font-weight: 600;
}

.dashboard-root {
  position: relative;
}

.dashboard-lease-banner {
  background: var(--app-accent);
  color: #1a1a1a;
  border-radius: var(--radius-2);
  padding: 8px 12px;
  font-weight: 600;
  box-shadow: var(--app-shadow);
}

.dashboard-hero {
  display: grid;
  gap: var(--space-4);
}

.dashboard-hero-header {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.dashboard-hero-meta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.dashboard-scope-pill {
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 88%, transparent);
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.dashboard-shared-meta {
  display: grid;
  gap: 4px;
}

.dashboard-shared-label {
  font-weight: 600;
}

.dashboard-link {
  font-size: 12px;
  font-weight: 600;
  color: var(--app-accent);
}

.dashboard-progress {
  display: grid;
  gap: 8px;
}

.dashboard-progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-3);
}

.dashboard-progress-title {
  font-weight: 600;
}

.dashboard-progress-value {
  font-weight: 700;
  font-size: 18px;
}

.dashboard-progress-bar {
  height: 10px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--app-border) 60%, transparent);
  overflow: hidden;
}

.dashboard-progress-fill {
  height: 100%;
  background: var(--app-accent);
  border-radius: inherit;
  transition: width 200ms ease;
}

.dashboard-progress-meta {
  display: flex;
  gap: 8px;
  align-items: baseline;
  font-weight: 600;
}

.dashboard-summary-grid {
  display: grid;
  gap: var(--space-3);
}

.dashboard-summary-card {
  padding: 12px 14px;
  border-radius: var(--radius-2);
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 92%, transparent);
  display: grid;
  gap: 6px;
}

.dashboard-summary-value {
  font-size: 20px;
  font-weight: 700;
}

.dashboard-free-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-accent) 25%, var(--app-surface));
  font-size: 12px;
  font-weight: 600;
  width: fit-content;
}

.dashboard-grid {
  display: grid;
  gap: var(--space-4);
}

.dashboard-main,
.dashboard-side {
  display: grid;
  gap: var(--space-4);
}

.dashboard-section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
}

.dashboard-goal-grid {
  display: grid;
  gap: var(--space-3);
  grid-auto-flow: column;
  grid-auto-columns: minmax(220px, 80%);
  overflow-x: auto;
  padding-bottom: 4px;
  scroll-snap-type: x mandatory;
}

.dashboard-goal-card {
  padding: 12px 14px;
  border-radius: var(--radius-2);
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 94%, transparent);
  display: grid;
  gap: 8px;
  scroll-snap-align: start;
}

.dashboard-goal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
}

.dashboard-goal-title {
  font-weight: 600;
}

.dashboard-goal-percent {
  font-weight: 700;
}

.dashboard-goal-values {
  display: flex;
  gap: 6px;
  align-items: baseline;
  font-size: 13px;
  font-weight: 600;
}

.dashboard-tabs {
  display: inline-flex;
  gap: 6px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 90%, transparent);
}

.dashboard-tab {
  border: 0;
  background: transparent;
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
  color: var(--app-subtle);
  cursor: pointer;
}

.dashboard-tab.is-active {
  background: var(--app-accent);
  color: #1a1a1a;
}

.dashboard-list {
  display: grid;
  gap: var(--space-3);
}

.dashboard-list-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  padding: 10px 12px;
  border-radius: var(--radius-2);
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 92%, transparent);
}

.dashboard-list-link {
  text-decoration: none;
}

.dashboard-list-title {
  font-weight: 600;
}

.dashboard-list-value {
  text-align: right;
  font-weight: 600;
}

.dashboard-asset-list {
  display: grid;
  gap: var(--space-3);
}

.dashboard-asset-item {
  display: grid;
  gap: 6px;
}

.dashboard-asset-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: 600;
}

.dashboard-asset-bar {
  height: 8px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--app-border) 60%, transparent);
  overflow: hidden;
}

.dashboard-asset-fill {
  height: 100%;
  background: var(--app-accent);
}

.dashboard-status-grid {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 6px 12px;
  align-items: center;
  font-size: 13px;
}

.dashboard-fab {
  position: fixed;
  right: 20px;
  bottom: 88px;
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background: var(--app-accent);
  color: #1a1a1a;
  display: grid;
  place-items: center;
  font-size: 26px;
  font-weight: 700;
  text-decoration: none;
  box-shadow: var(--app-shadow);
}

.dashboard-fab:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--app-accent) 60%, transparent);
  outline-offset: 4px;
}

@media (min-width: 900px) {
  .app-shell {
    grid-template-columns: 240px 1fr;
    grid-template-rows: auto 1fr;
  }

  .app-header {
    grid-column: 1 / -1;
    position: sticky;
    top: 0;
    padding: var(--space-3) var(--space-6);
  }

  .app-header-center {
    display: none;
  }

  .status-indicator-header {
    display: none;
  }

  .scope-switcher-mobile {
    display: none;
  }

  .app-nav {
    grid-column: 1;
    grid-row: 2;
    position: sticky;
    top: 64px;
    align-self: start;
    height: fit-content;
    padding: var(--space-4) var(--space-3);
    border-top: none;
    border-right: 1px solid var(--app-border);
    background: transparent;
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .app-nav-brand {
    display: flex;
    padding: 4px 4px 0;
  }

  .app-nav-scope {
    display: block;
    width: 100%;
    padding: 0 4px;
  }

  .scope-switcher-desktop {
    display: grid;
  }

  .app-nav-links {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
  }

  .app-nav-footer {
    display: flex;
    margin-top: auto;
    padding: 4px;
  }

  .nav-link {
    flex-direction: row;
    justify-content: flex-start;
    gap: 12px;
    font-size: 14px;
    text-align: left;
    width: 100%;
  }

  .app-main {
    padding: var(--space-6);
    grid-column: 2;
    grid-row: 2;
  }

  .nav-icon {
    font-size: 18px;
  }

  .nav-icon-mobile {
    display: none;
  }

  .nav-icon-desktop {
    display: inline-flex;
  }

  .dashboard-hero-header {
    flex-direction: row;
    align-items: flex-start;
    justify-content: space-between;
  }

  .dashboard-summary-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .dashboard-free-chip {
    justify-self: end;
  }

  .dashboard-grid {
    grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
  }

  .dashboard-goal-grid {
    grid-auto-flow: row;
    grid-auto-columns: auto;
    overflow: visible;
    scroll-snap-type: none;
  }

  .dashboard-fab {
    display: none;
  }
}

.accounts-page {
  gap: var(--space-3);
}

.accounts-desktop-only {
  display: block;
}

.accounts-mobile-only {
  display: none;
}

.accounts-master-detail {
  display: grid;
  gap: var(--space-4);
}

.accounts-master-pane,
.accounts-detail-pane {
  min-width: 0;
}

.accounts-pane-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.accounts-detail-heading {
  align-items: flex-start;
}

.accounts-header-actions {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.accounts-info-icon {
  color: var(--app-subtle);
  font-weight: 700;
  cursor: help;
}

.accounts-master-item {
  display: flex;
  justify-content: space-between;
  gap: var(--space-3);
  padding: var(--space-3);
  border-radius: var(--app-radius);
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 94%, transparent);
  border-left: 4px solid transparent;
  cursor: pointer;
}

.accounts-master-item:focus-visible {
  outline: 2px solid var(--app-accent);
  outline-offset: 2px;
}

.accounts-master-item-selected {
  border-left-color: var(--app-accent);
  background: color-mix(in srgb, var(--app-accent) 20%, var(--app-surface));
}

.accounts-master-name {
  font-weight: 700;
}

.accounts-master-total {
  font-weight: 700;
  font-size: 16px;
  white-space: nowrap;
}

.accounts-summary-bar {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: center;
  padding: var(--space-3);
  border: 1px solid var(--app-border);
  border-radius: var(--app-radius);
  margin-bottom: var(--space-3);
  background: color-mix(in srgb, var(--app-accent) 14%, var(--app-surface));
}

.accounts-summary-name {
  font-weight: 700;
  margin-right: auto;
}

.accounts-empty-card {
  display: grid;
  gap: var(--space-3);
  padding: var(--space-4);
  border-radius: var(--app-radius);
  border: 1px dashed var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 94%, transparent);
}

.accounts-empty-card h3 {
  margin: 0;
}

.accounts-empty-card p {
  margin: 0;
}

.accounts-mobile-account-card,
.accounts-mobile-position-card {
  width: 100%;
  text-align: left;
  border: 1px solid var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 95%, transparent);
  border-radius: var(--app-radius);
  padding: var(--space-3);
  display: grid;
  gap: 6px;
  color: inherit;
}

.accounts-mobile-value {
  font-weight: 700;
}

.accounts-mobile-position-card-highlight {
  border-color: color-mix(in srgb, var(--app-accent) 65%, var(--app-border));
  background: color-mix(in srgb, var(--app-accent) 24%, var(--app-surface));
}

.accounts-mobile-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.accounts-mobile-title h2 {
  margin: 0;
}

.accounts-mobile-fab {
  position: fixed;
  right: 16px;
  bottom: 92px;
  z-index: 38;
  display: none;
  gap: var(--space-2);
  justify-items: end;
}

.accounts-mobile-fab-button {
  width: 52px;
  height: 52px;
  border-radius: 999px;
  font-size: 24px;
  padding: 0;
}

.accounts-mobile-fab-menu {
  display: grid;
  gap: var(--space-2);
  padding: var(--space-3);
  border-radius: var(--app-radius);
  border: 1px solid var(--app-border);
  background: var(--app-surface);
  box-shadow: var(--app-shadow);
  min-width: 220px;
}

.accounts-mobile-fab-reason {
  font-size: 12px;
}

.accounts-table {
  display: grid;
  gap: var(--space-2);
  overflow-x: auto;
}

.accounts-table-row {
  display: grid;
  gap: var(--space-3);
  align-items: center;
  padding: var(--space-3);
  border: 1px solid var(--app-border);
  border-radius: var(--app-radius);
  min-width: 720px;
  grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.8fr) minmax(0, 0.9fr) minmax(0, 1fr);
}

.accounts-table-header {
  border: none;
  padding: 0 var(--space-2);
  background: transparent;
  color: var(--app-subtle);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  font-size: 12px;
}

.accounts-data-row {
  background: color-mix(in srgb, var(--app-surface) 95%, transparent);
  cursor: pointer;
}

.accounts-position-label {
  font-weight: 700;
}

.accounts-value-cell {
  position: relative;
}

.accounts-value-button {
  width: 100%;
  text-align: left;
  border: none;
  background: transparent;
  padding: 0;
  color: inherit;
  cursor: pointer;
}

.accounts-value-main {
  font-weight: 700;
}

.accounts-inline-editor {
  display: grid;
  gap: 4px;
}

.accounts-inline-error {
  color: #a1262c;
  font-size: 12px;
}

.accounts-inline-hint {
  margin-top: 6px;
  font-size: 12px;
  color: var(--app-subtle);
}

.accounts-mode-chip {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--app-accent) 60%, var(--app-border));
  background: color-mix(in srgb, var(--app-accent) 30%, var(--app-surface));
  font-size: 12px;
}

.accounts-drawer-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: flex-end;
  padding: var(--space-4);
  background: color-mix(in srgb, #000 22%, transparent);
  z-index: 50;
}

.accounts-drawer,
.accounts-dialog {
  width: 100%;
  max-width: 460px;
  border-radius: var(--app-radius);
  border: 1px solid var(--app-border);
  background: var(--app-surface);
  box-shadow: var(--app-shadow);
  padding: var(--space-4);
  max-height: 100%;
  overflow-y: auto;
}

.accounts-drawer-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-4);
}

.accounts-allocation-row {
  display: flex;
  justify-content: space-between;
  gap: var(--space-3);
  padding: var(--space-3);
  border-radius: var(--app-radius);
  border: 1px solid var(--app-border);
}

.accounts-dialog h3,
.accounts-dialog p {
  margin-top: 0;
}

@media (min-width: 900px) {
  .accounts-master-detail {
    grid-template-columns: minmax(0, 330px) minmax(0, 1fr);
    align-items: start;
  }
}

@media (max-width: 719px) {
  .accounts-desktop-only {
    display: none;
  }

  .accounts-mobile-only {
    display: block;
  }

  .accounts-drawer-overlay {
    padding: 0;
  }

  .accounts-drawer,
  .accounts-dialog {
    max-width: none;
    border-radius: 0;
  }

  .accounts-mobile-fab {
    display: grid;
  }
}

.goals-page {
  gap: var(--space-3);
}

.goals-layout {
  display: grid;
  gap: var(--space-4);
  min-height: calc(100vh - 180px);
}

.goals-master-pane,
.goals-detail-pane {
  min-width: 0;
  min-height: 0;
}

.goals-pane-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.goals-desktop-only {
  display: inline-flex;
}

.goals-mobile-only {
  display: none;
}

.goals-filter-row {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.goals-filter-chip {
  border: 1px solid var(--app-border);
  border-radius: 999px;
  background: color-mix(in srgb, var(--app-surface) 94%, transparent);
  color: inherit;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  cursor: pointer;
  font-size: 13px;
}

.goals-filter-chip-active {
  border-color: color-mix(in srgb, var(--app-accent) 70%, var(--app-border));
  background: color-mix(in srgb, var(--app-accent) 20%, var(--app-surface));
  font-weight: 700;
}

.goals-filter-count {
  min-width: 22px;
  text-align: center;
  border-radius: 999px;
  border: 1px solid var(--app-border);
  padding: 1px 6px;
  font-size: 12px;
}

.goals-master-item {
  width: 100%;
  text-align: left;
  border: 1px solid var(--app-border);
  border-left: 4px solid transparent;
  border-radius: var(--app-radius);
  background: color-mix(in srgb, var(--app-surface) 95%, transparent);
  color: inherit;
  padding: var(--space-3);
  display: grid;
  gap: 8px;
  cursor: pointer;
}

.goals-master-item-selected {
  border-left-color: var(--app-accent);
  background: color-mix(in srgb, var(--app-accent) 18%, var(--app-surface));
}

.goals-master-item-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-2);
}

.goals-master-name {
  font-weight: 700;
}

.goals-status-group {
  display: inline-flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: flex-end;
}

.goals-status-chip,
.goals-status-badge {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--app-border);
  font-size: 12px;
}

.goals-status-chip {
  background: color-mix(in srgb, var(--app-surface) 92%, transparent);
}

.goals-status-badge {
  border-color: color-mix(in srgb, var(--app-accent) 65%, var(--app-border));
  background: color-mix(in srgb, var(--app-accent) 32%, var(--app-surface));
  font-weight: 700;
}

.goals-progress-row {
  display: flex;
  justify-content: space-between;
  gap: var(--space-2);
  font-weight: 600;
  font-size: 13px;
}

.goals-progress-bar {
  height: 10px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--app-border) 60%, transparent);
  overflow: hidden;
}

.goals-progress-fill {
  height: 100%;
  border-radius: inherit;
  background: var(--app-accent);
}

.goals-create-card {
  margin-top: var(--space-4);
  display: grid;
  gap: var(--space-3);
  padding: var(--space-4);
  border-radius: var(--app-radius);
  border: 1px dashed var(--app-border);
  background: color-mix(in srgb, var(--app-surface) 94%, transparent);
}

.goals-create-card h3 {
  margin: 0;
}

.goals-detail-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-3);
}

.goals-detail-header h2 {
  margin: 0;
}

.goals-progress-meta {
  text-align: right;
  font-weight: 600;
}

.goals-header-actions {
  display: flex;
  justify-content: flex-end;
  margin-bottom: var(--space-2);
}

.goals-allocation-toolbar {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: var(--space-2);
}

.goals-allocation-actions {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
}

.goals-allocation-actions.goals-mobile-only {
  display: none;
}

.goals-detail-shell {
  display: grid;
  min-height: 0;
  height: 100%;
  grid-template-rows: auto 1fr;
}

.goals-detail-sticky {
  position: sticky;
  top: 0;
  z-index: 2;
  background: var(--app-surface);
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--app-border);
}

.goals-detail-content {
  min-height: 0;
  overflow-y: auto;
  padding-top: var(--space-3);
}

.goals-allocation-row {
  padding: var(--space-3);
}

.goals-allocation-row-highlight {
  border-color: color-mix(in srgb, var(--app-accent) 70%, var(--app-border));
  background: color-mix(in srgb, var(--app-accent) 22%, var(--app-surface));
}

.goals-allocation-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-3);
  min-height: 22px;
}

.goals-allocation-edit-button {
  min-height: 32px;
}

.goals-empty-card {
  display: grid;
  gap: var(--space-3);
  border: 1px dashed var(--app-border);
  border-radius: var(--app-radius);
  background: color-mix(in srgb, var(--app-surface) 94%, transparent);
  padding: var(--space-4);
}

.goals-empty-card h3,
.goals-empty-card p {
  margin: 0;
}

.goals-history-item {
  border: 1px solid var(--app-border);
  border-radius: var(--app-radius);
  background: color-mix(in srgb, var(--app-surface) 94%, transparent);
  padding: var(--space-3);
  display: grid;
  gap: 6px;
}

.history-event-header {
  display: inline-flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
}

.history-origin-badge {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--app-border);
  font-size: 12px;
  font-weight: 600;
}

.history-origin-badge-user {
  border-color: color-mix(in srgb, #4c9f70 55%, var(--app-border));
  background: color-mix(in srgb, #4c9f70 14%, var(--app-surface));
}

.history-origin-badge-system {
  border-color: color-mix(in srgb, #b36f2b 58%, var(--app-border));
  background: color-mix(in srgb, #b36f2b 16%, var(--app-surface));
}

.goals-receipt-card {
  display: grid;
  gap: var(--space-3);
}

.goals-receipt-row {
  display: flex;
  justify-content: space-between;
  gap: var(--space-3);
}

.goals-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: flex-end;
  padding: var(--space-4);
  background: color-mix(in srgb, #000 22%, transparent);
  z-index: 50;
}

.goals-drawer {
  width: 100%;
  max-width: 460px;
  border-radius: var(--app-radius);
  border: 1px solid var(--app-border);
  background: var(--app-surface);
  box-shadow: var(--app-shadow);
  padding: var(--space-4);
  max-height: 100%;
  overflow-y: auto;
}

.goals-drawer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.goals-dialog h3,
.goals-dialog p {
  margin-top: 0;
}

.goals-mobile-fab {
  display: none;
  position: fixed;
  right: 16px;
  bottom: 84px;
  z-index: 35;
  justify-items: end;
  gap: var(--space-2);
}

.goals-mobile-fab-button {
  width: 56px;
  height: 56px;
  border-radius: 999px;
  box-shadow: var(--app-shadow);
  font-size: 26px;
}

.goals-mobile-fab-menu {
  display: grid;
  gap: var(--space-2);
  min-width: 260px;
  padding: var(--space-2);
  border: 1px solid var(--app-border);
  border-radius: var(--app-radius);
  background: var(--app-surface);
  box-shadow: var(--app-shadow);
}

.goals-mobile-fab-menu .fui-Button {
  justify-content: flex-start;
  min-height: 40px;
}

.goals-mobile-fab-reason {
  padding: 0 var(--space-2) var(--space-1);
}

@media (min-width: 900px) {
  .goals-layout {
    grid-template-columns: minmax(0, 360px) minmax(0, 1fr);
    align-items: stretch;
  }
}

@media (max-width: 719px) {
  .goals-overlay {
    padding: 0;
  }

  .goals-drawer {
    max-width: none;
    border-radius: 0;
  }

  .goals-detail-header {
    flex-direction: column;
  }

  .goals-progress-meta {
    text-align: left;
  }

  .goals-layout {
    min-height: auto;
  }

  .goals-detail-shell {
    height: auto;
  }

  .goals-detail-content {
    overflow: visible;
  }

  .goals-desktop-only {
    display: none;
  }

  .goals-mobile-only {
    display: inline-flex;
  }

  .goals-mobile-fab {
    display: grid;
  }

  .goals-allocation-toolbar {
    justify-content: flex-end;
  }

  .goals-allocation-actions.goals-mobile-only {
    display: inline-flex;
  }
}
